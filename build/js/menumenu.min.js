var menumenu=function(){"use strict";function E(e,t){var n,i=e.className.trim(),o=i?i.split(" "):[];e.className=(n=t.trim().split(" ").concat(o),n.filter(function(e,t,n){return n.indexOf(e)===t})).join(" ")}function S(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i)}function w(e,t){void 0===t&&(t="*");for(var n=[],i=e.parentNode;i!==document;)i.matches(t)&&n.push(i),i=i.parentNode;return n}function q(t,e,n,i){e.split(" ").forEach(function(e){t.removeEventListener(e,n,i)})}function O(t,e,n,i){e.split(" ").forEach(function(e){t.addEventListener(e,n,i)})}function T(e,t){var n,i,o=e.className.trim(),r=o?o.split(" "):[];e.className=(n=r,i=t.trim().split(" "),n.filter(function(e){return i.indexOf(e)<0})).join(" ")}return Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),function(o,r){var e=o.querySelectorAll("li"),t=o.querySelectorAll("li > ul"),a=function(){var e=document.createElement("spoink"),t={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}();if(o&&e.length&&t.length){r=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({addBackLink:!0,addDropdownToggle:!0,classDropdownToggle:"dropdown-toggle",closeOnOutsideClick:!0,idMenu:"menumenu",msgBack:"Back"},r);var n="current-menumenu",c="back-link",u="has-children",l="menu-hidden",d="menu-in",s="menu-out",f="sub-menu-in",m="sub-menu-out",p="sub-menu-hidden",v="sub-menu-shown";o.id||(o.id=r.idMenu),E(o,"menumenu"),S(e,function(e,t){e.id||(e.id=o.id+"-item-"+(t+1))}),S(t,function(e){if(E(e,"sub-menu "+p),r.addDropdownToggle){var t='<span aria-hidden="true" class="'+r.classDropdownToggle+' generated"></span>';e.insertAdjacentHTML("beforebegin",t)}if(r.addBackLink){var n='<li aria-hidden="true" class="'+c+'"><a href="#">'+r.msgBack+"</a></li>";e.insertAdjacentHTML("afterbegin",n)}var i=e.closest("li");e.setAttribute("data-id",i.id),E(i,u)});var g=!1;S(o.querySelectorAll("."+r.classDropdownToggle),function(n){n.setAttribute("data-id",n.closest("li").id),n.setAttribute("data-depth",w(n,"li > ul").length);var e='ul[data-id="'+n.getAttribute("data-id")+'"]',i=o.querySelector(e);O(n,"click",function(e){e.preventDefault();var t=o.querySelector("."+v);t?"0"===n.getAttribute("data-depth")&&!1===g?A(t,h):A(t,function(){b(i)}):y(function(){b(i)},n.closest(".has-children")),g=!1})}),S(o.querySelectorAll("."+c),function(i){var e=w(i,"#"+o.id+" li")[1];i.setAttribute("data-id",e?e.id:"none"),O(i,"click",function(e){e.preventDefault();var t=o.querySelector("."+v);if("none"===i.getAttribute("data-id"))A(t,h);else{var n="."+r.classDropdownToggle+'[data-id="'+i.getAttribute("data-id")+'"]';g=!0,o.querySelector(n).click()}})});var h=function(){r.closeOnOutsideClick&&q(document,"click",i),o.querySelector("."+n)&&T(o.querySelector("."+n),n),E(o,d),T(o,l),T(o,s)},y=function(e,t){E(t,n),E(o,s),T(o,d);var i=function(e,t,n){q(e,n.type,i),E(e,l),r.closeOnOutsideClick&&k(),"function"==typeof t&&t()}.bind(o,o,e);O(o,a,i)},b=function(e){E(e,f);var n=function(e,t){q(e,t.type,n),T(e,p),E(e,v)}.bind(e,e);O(e,a,n)},A=function(e,t){E(e,m),T(e,f);var i=function(e,t,n){q(e,n.type,i),E(e,p),T(e,v),T(e,m),"function"==typeof t&&t()}.bind(e,e,t);O(e,a,i)},i=function(e){if(!e.target.closest("."+u)){var t=o.querySelector("."+v);(n=t)&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)&&A(t,h)}var n},k=function(){O(document,"click",i)}}}}();
