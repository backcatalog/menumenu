var menumenu=function(){"use strict";function d(n,e){var t,i=n.className.trim(),a=i?i.split(" "):[];n.className=(t=e.trim().split(" ").concat(a),t.filter(function(n,e,t){return t.indexOf(n)===e})).join(" ")}function f(n,e,t){for(var i=0;i<n.length;i++)e.call(t,n[i],i)}function m(n,e){void 0===e&&(e="*");for(var t=n.parentNode;!a(t,e);)t=t.parentNode;return t}function S(n,e){void 0===e&&(e="*");for(var t=[],i=n.parentNode;i!==document;)a(i,e)&&t.push(i),i=i.parentNode;return t}function a(n,e){if(Element.prototype.matches)return n.matches(e);for(var t=document.querySelectorAll(e),i=t.length;0<=--i&&t.item(i)!==n;);return-1<i}function M(n,e){var t,i,a=n.className.trim(),s=a?a.split(" "):[];n.className=(t=s,i=e.trim().split(" "),t.filter(function(n){return!i.includes(n)})).join(" ")}return function(n,a){var s=document.querySelector(n),e=s.querySelectorAll("li"),t=s.querySelectorAll("li > ul"),i=function(){var n=document.createElement("spoink"),e={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"};for(var t in e)if(void 0!==n.style[t])return e[t]}();if(s&&e.length&&t.length){(a=function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}({addBackLink:!0,addDropdownToggle:!0,classBackLink:"back-link",classDropdownToggle:"dropdown-toggle",classHasChildren:"has-children",classMenuHidden:"menu-hidden",classSubMenu:"sub-menu",idMenu:"menumenu",msgBack:"Back"},a)).classMenuIn="menu-in",a.classMenuOut="menu-out",a.classSubMenuIn="sub-menu-in",a.classSubMenuOut="sub-menu-out",a.classSubMenuHidden="sub-menu-hidden",a.classSubMenuShown="sub-menu-shown",s.id||(s.id=a.idMenu),d(s,"menumenu"),f(e,function(n,e){n.id||(n.id=s.id+"-item-"+(e+1))}),f(t,function(n){if(d(n,a.classSubMenu+" "+a.classSubMenuHidden),a.addDropdownToggle){var e='<span class="'+a.classDropdownToggle+' generated"></span>';n.insertAdjacentHTML("beforebegin",e)}if(a.addBackLink){var t='<li class="'+a.classBackLink+'"><a href="#">'+a.msgBack+"</a></li>";n.insertAdjacentHTML("afterbegin",t)}var i=m(n,"li");n.dataset.id=i.id,d(i,a.classHasChildren)});var u=!1;f(s.querySelectorAll("."+a.classDropdownToggle),function(n){n.dataset.id=m(n,"li").id,n.dataset.depth=S(n,"li > ul").length;var e='ul[data-id="'+n.dataset.id+'"]',t=s.querySelector(e);n.addEventListener("click",function(n){n.preventDefault();var e=s.querySelector("."+a.classSubMenuShown);e?"0"===this.dataset.depth&&!1===u?r(e,c):r(e,function(){l(t)}):o(function(){l(t)}),u=!1})}),f(s.querySelectorAll("."+a.classBackLink),function(i){var n=S(i,"#"+s.id+" li")[1];i.dataset.id=n?n.id:"none",i.addEventListener("click",function(n){n.preventDefault();var e=s.querySelector("."+a.classSubMenuShown);if("none"===this.dataset.id)r(e,c);else{var t="."+a.classDropdownToggle+'[data-id="'+i.dataset.id+'"]';u=!0,s.querySelector(t).click()}})});var c=function(){d(s,a.classMenuIn),M(s,a.classMenuHidden),M(s,a.classMenuOut)},o=function(n,e){d(s,a.classMenuOut),d(s,a.classMenuHidden),M(s,a.classMenuIn),"function"==typeof n&&n.call(e)},l=function(n){d(n,a.classSubMenuIn),n.addEventListener(i,function(){M(this,a.classSubMenuHidden),d(this,a.classSubMenuShown)},{once:!0})},r=function(n,e,t){d(n,a.classSubMenuOut),M(n,a.classSubMenuIn),n.addEventListener(i,function(){d(this,a.classSubMenuHidden),M(this,a.classSubMenuShown),M(this,a.classSubMenuOut),"function"==typeof e&&e.call(t)},{once:!0})}}}}();
