var menumenu=function(){"use strict";function d(n,e){var t,a=n.className.trim(),i=a?a.split(" "):[];n.className=(t=e.trim().split(" ").concat(i),t.filter(function(n,e,t){return t.indexOf(n)===e})).join(" ")}function f(n,e,t){for(var a=0;a<n.length;a++)e.call(t,n[a],a)}function m(n,e){void 0===e&&(e="*");for(var t=n.parentNode;!i(t,e);)t=t.parentNode;return t}function S(n,e){void 0===e&&(e="*");for(var t=[],a=n.parentNode;a!==document;)i(a,e)&&t.push(a),a=a.parentNode;return t}function i(n,e){if(Element.prototype.matches)return n.matches(e);for(var t=document.querySelectorAll(e),a=t.length;0<=--a&&t.item(a)!==n;);return-1<a}function M(e,n,t,a){n.split(" ").forEach(function(n){e.addEventListener(n,t,a)})}function p(n,e){var t,a,i=n.className.trim(),u=i?i.split(" "):[];n.className=(t=u,a=e.trim().split(" "),t.filter(function(n){return!a.includes(n)})).join(" ")}return function(n,i){var u=document.querySelector(n),e=u.querySelectorAll("li"),t=u.querySelectorAll("li > ul"),a=function(){var n=document.createElement("spoink"),e={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"};for(var t in e)if(void 0!==n.style[t])return e[t]}();if(u&&e.length&&t.length){(i=function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}({addBackLink:!0,addDropdownToggle:!0,classBackLink:"back-link",classDropdownToggle:"dropdown-toggle",classHasChildren:"has-children",classMenuHidden:"menu-hidden",classSubMenu:"sub-menu",idMenu:"menumenu",msgBack:"Back"},i)).classMenuIn="menu-in",i.classMenuOut="menu-out",i.classSubMenuIn="sub-menu-in",i.classSubMenuOut="sub-menu-out",i.classSubMenuHidden="sub-menu-hidden",i.classSubMenuShown="sub-menu-shown",u.id||(u.id=i.idMenu),d(u,"menumenu"),f(e,function(n,e){n.id||(n.id=u.id+"-item-"+(e+1))}),f(t,function(n){if(d(n,i.classSubMenu+" "+i.classSubMenuHidden),i.addDropdownToggle){var e='<span class="'+i.classDropdownToggle+' generated"></span>';n.insertAdjacentHTML("beforebegin",e)}if(i.addBackLink){var t='<li class="'+i.classBackLink+'"><a href="#">'+i.msgBack+"</a></li>";n.insertAdjacentHTML("afterbegin",t)}var a=m(n,"li");n.dataset.id=a.id,d(a,i.classHasChildren)});var s=!1;f(u.querySelectorAll("."+i.classDropdownToggle),function(t){t.dataset.id=m(t,"li").id,t.dataset.depth=S(t,"li > ul").length;var n='ul[data-id="'+t.dataset.id+'"]',a=u.querySelector(n);M(t,"click",function(n){n.preventDefault();var e=u.querySelector("."+i.classSubMenuShown);e?"0"===t.dataset.depth&&!1===s?r(e,c):r(e,function(){l(a)}):o(function(){l(a)}),s=!1})}),f(u.querySelectorAll("."+i.classBackLink),function(a){var n=S(a,"#"+u.id+" li")[1];a.dataset.id=n?n.id:"none",M(a,"click",function(n){n.preventDefault();var e=u.querySelector("."+i.classSubMenuShown);if("none"===a.dataset.id)r(e,c);else{var t="."+i.classDropdownToggle+'[data-id="'+a.dataset.id+'"]';s=!0,u.querySelector(t).click()}})});var c=function(){d(u,i.classMenuIn),p(u,i.classMenuHidden),p(u,i.classMenuOut)},o=function(n,e){d(u,i.classMenuOut),d(u,i.classMenuHidden),p(u,i.classMenuIn),"function"==typeof n&&n.call(e)},l=function(n){d(n,i.classSubMenuIn),M(n,a,function(){p(n,i.classSubMenuHidden),d(n,i.classSubMenuShown)},{once:!0})},r=function(n,e,t){d(n,i.classSubMenuOut),p(n,i.classSubMenuIn),M(n,a,function(){d(n,i.classSubMenuHidden),p(n,i.classSubMenuShown),p(n,i.classSubMenuOut),"function"==typeof e&&e.call(t)},{once:!0})}}}}();
