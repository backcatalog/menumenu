var menumenu=function(){"use strict";function A(e,n){var t,i=e.className.trim(),o=i?i.split(" "):[];e.className=(t=n.trim().split(" ").concat(o),t.filter(function(e,n,t){return t.indexOf(e)===n})).join(" ")}function S(e,n,t){for(var i=0;i<e.length;i++)n.call(t,e[i],i)}function w(e,n){void 0===n&&(n="*");for(var t=[],i=e.parentNode;i!==document;)i.matches(n)&&t.push(i),i=i.parentNode;return t}function q(n,e,t,i){e.split(" ").forEach(function(e){n.removeEventListener(e,t,i)})}function O(n,e,t,i){e.split(" ").forEach(function(e){n.addEventListener(e,t,i)})}function T(e,n){var t,i,o=e.className.trim(),r=o?o.split(" "):[];e.className=(t=r,i=n.trim().split(" "),t.filter(function(e){return!i.includes(e)})).join(" ")}return Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var n=this;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}),function(o,r){var e=o.querySelectorAll("li"),n=o.querySelectorAll("li > ul"),a=function(){var e=document.createElement("spoink"),n={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"};for(var t in n)if(void 0!==e.style[t])return n[t]}();if(o&&e.length&&n.length){r=function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}({addBackLink:!0,addDropdownToggle:!0,classDropdownToggle:"dropdown-toggle",closeOnOutsideClick:!0,idMenu:"menumenu",msgBack:"Back"},r);var t="current-menumenu",c="back-link",l="has-children",u="menu-hidden",s="menu-in",d="menu-out",f="sub-menu-in",m="sub-menu-out",p="sub-menu-hidden",v="sub-menu-shown";o.id||(o.id=r.idMenu),A(o,"menumenu"),S(e,function(e,n){e.id||(e.id=o.id+"-item-"+(n+1))}),S(n,function(e){if(A(e,"sub-menu "+p),r.addDropdownToggle){var n='<span class="'+r.classDropdownToggle+' generated-toggle"></span>';e.insertAdjacentHTML("beforebegin",n)}if(r.addBackLink){var t='<li class="'+c+'"><a href="#">'+r.msgBack+"</a></li>";e.insertAdjacentHTML("afterbegin",t)}var i=e.closest("li");e.dataset.id=i.id,A(i,l)});var g=!1;S(o.querySelectorAll("."+r.classDropdownToggle),function(t){t.dataset.id=t.closest("li").id,t.dataset.depth=w(t,"li > ul").length;var e='ul[data-id="'+t.dataset.id+'"]',i=o.querySelector(e);O(t,"click",function(e){e.preventDefault();var n=o.querySelector("."+v);n?"0"===t.dataset.depth&&!1===g?E(n,h):E(n,function(){k(i)}):y(function(){k(i)},t.closest(".has-children")),g=!1})}),S(o.querySelectorAll("."+c),function(i){var e=w(i,"#"+o.id+" li")[1];i.dataset.id=e?e.id:"none",O(i,"click",function(e){e.preventDefault();var n=o.querySelector("."+v);if("none"===i.dataset.id)E(n,h);else{var t="."+r.classDropdownToggle+'[data-id="'+i.dataset.id+'"]';g=!0,o.querySelector(t).click()}})});var h=function(){r.closeOnOutsideClick&&q(document,"click",i),o.querySelector("."+t)&&T(o.querySelector("."+t),t),A(o,s),T(o,u),T(o,d)},y=function(e,n){A(n,t),A(o,d),T(o,s);var i=function(e,n,t){q(e,t.type,i),A(e,u),r.closeOnOutsideClick&&b(),"function"==typeof n&&n()}.bind(o,o,e);O(o,a,i)},k=function(e){A(e,f);var t=function(e,n){q(e,n.type,t),T(e,p),A(e,v)}.bind(e,e);O(e,a,t)},E=function(e,n){A(e,m),T(e,f);var i=function(e,n,t){q(e,t.type,i),A(e,p),T(e,v),T(e,m),"function"==typeof n&&n()}.bind(e,e,n);O(e,a,i)},i=function(e){if(!e.target.closest("."+l)){var n=o.querySelector("."+v);(t=n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&E(n,h)}var t},b=function(){O(document,"click",i)}}}}();
